// Play, Pause Buttons
//


// Defaults for all size buttons

@mixin play-buttons-defaults( $background: rgba(0,0,0,1), 
                              $foreground: rgba(255,255,255,0.9), 
                              $transition-time: 0.3s) {
  
  display: inline-block;
  position:relative;
  text-align: center;
  cursor: pointer;
  
  &:before,
  &:after {
    position: absolute;
    box-sizing: border-box;
    display: block;
    content: ' ';
  }
  
  &:before {
    background: $background;
    border-radius: 50%;
    @include transition(all 0.3s ease);
  }
  &:after {
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
    border-left-color: $foreground;
  }
  
  &:hover {
    &:before {
      opacity: 1;
      @include transform(scale(1.05));
    }
  }
  
  .isPlaying & {
    &:after {
      border-color: $foreground;
      @include animation(spin 3.636363s linear infinite);
    }
    &:hover:after {
      @include animation(none);
    }
  }
}


// Sizing properties of the button

@mixin play-buttons-size( $thumb-width, 
                         $thumb-height, 
                         $button-size,
                         $hover: false, 
                         $button-opacity: 0.7,
                         $ratio: 1.2 ) {
                           
  $icon-size: $button-size * .25;
  
  width: $thumb-width;
  height: $thumb-height;
  
  @if $hover {
    &:before, &:after {
      opacity: 0;
    }
    
    &:hover {
      &:before, &:after {
        opacity: 1;
      }
    }
    
    .isPaused & {
      &:before {
        opacity: $button-opacity;
      }
    
      &:after {
        opacity: 1;
      }
    }
  } @else {
    &:before {
      opacity: $button-opacity;
    }
  }
  
  &:before {
    top: ($thumb-height - $button-size)*.5;
    left: ($thumb-width - $button-size)*.5;
    width: $button-size;
    height: $button-size;
  }
  
  &:after {
    top: $thumb-height*.5 - $icon-size;
    left: $thumb-width*.5 - $icon-size*$ratio/3;
    border-top-width: $icon-size;
    border-bottom-width: $icon-size;
    border-left-width: $icon-size*$ratio;
  }
  
  .isPlaying & {
    &:before, &:after {
      opacity: 1;
    }

    &:after {
      width: $icon-size*1.3;
      height: $icon-size*1.65;
      top: $thumb-height*.5 - $icon-size*1.65/2;
      left: $thumb-width*.5 - $icon-size*1.3/2;
      border-width:0 $icon-size/2.2;
    }
  }                    
}


// Full button mixin

@mixin play-buttons( $thumb-width, 
                    $thumb-height, 
                    $button-size,
                    $hover: false,
                    $ratio: 1.2,
                    $background: rgba(0,0,0,0.7), 
                    $foreground: rgba(255,255,255,0.9), 
                    $transition-time: 0.3s ) {
  
  @include play-buttons-defaults($background, $foreground, $transition-time);
  
  @include play-buttons-size($thumb-width, $thumb-height, $hover, $button-size, $ratio);                  
}